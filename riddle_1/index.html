<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Escape Room Riddle</title>
  <style>
    :root {
      --dark-moss: #4a5d23;
      --baby-powder: #f9f9f7;
      --platinum: #e5e4e2;
      --dark-purple: #2b1b3f;
      --dim-grey: #696969;
      --accent: #a2ff9f;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
      color: var(--baby-powder);
      background: radial-gradient(1200px 800px at 70% -10%, rgba(162,255,159,0.07), transparent 60%),
                  radial-gradient(1000px 600px at 10% 120%, rgba(229,228,226,0.06), transparent 60%),
                  linear-gradient(135deg, var(--dark-purple) 0%, #1a1f2a 40%, var(--dark-moss) 100%);
      min-height: 100svh;
    }

    /* Ambient layers */
    .noise::before{content:"";position:fixed;inset:0;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.04"/></svg>');mix-blend-mode:overlay;pointer-events:none;z-index:1}
    .vignette::after{content:"";position:fixed;inset:0;background:radial-gradient(circle at 50% 50%, rgba(0,0,0,0) 50%, rgba(0,0,0,0.55) 100%);pointer-events:none;z-index:2}

    .topbar {
      position: sticky; top: 0; z-index: 3;
      display: flex; justify-content: center; align-items: center;
      padding: clamp(8px, 1.5svh, 14px) 16px;
      background: linear-gradient(to bottom, rgba(0,0,0,0.35), rgba(0,0,0,0));
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
    }
    .badge {
      font-size: clamp(10px, 1.6svh, 12px);
      letter-spacing: 0.2em; text-transform: uppercase; color: #cde6cf;
      padding: 6px 10px; border: 1px solid rgba(162,255,159,0.35); border-radius: 999px;
      box-shadow: 0 0 16px rgba(162,255,159,0.18) inset, 0 0 12px rgba(162,255,159,0.12);
      white-space: nowrap;
    }

    /* Responsive centering stage */
    .stage {
      display: grid; place-items: center;
      min-height: calc(100svh - 56px);
      padding: clamp(12px, 3svh, 28px);
    }

    /* Responsive frame: always centered, image contained */
    .frame {
      position: relative; z-index: 3;
      width: min(96vw, 1100px);
      height: min(76svh, calc(100svh - 140px));
      max-height: 900px;
      border-radius: 24px;
      background: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
      border: 1px solid rgba(229,228,226,0.25);
      box-shadow: 0 30px 120px rgba(0,0,0,0.55), 0 0 0 1px rgba(255,255,255,0.04) inset, 0 0 80px rgba(162,255,159,0.06);
      display: flex; align-items: center; justify-content: center;
      overflow: hidden;
      transform-style: preserve-3d;
      animation: breathe 6s ease-in-out infinite;
    }

    .frame img {
      max-width: 100%;
      max-height: 100%;
      width: auto; height: auto;
      object-fit: contain; /* keep full image visible */
      display: block;
      filter: contrast(1.02) saturate(1.02);
      transform: translateZ(0);
    }

    .frame::after {content:"";position:absolute;inset:0;pointer-events:none;background:repeating-linear-gradient(to bottom, rgba(255,255,255,0.04) 0px, rgba(255,255,255,0.04) 1px, transparent 2px, transparent 4px);mix-blend-mode:overlay;opacity:.18}

    .corner {position:absolute;width:44px;height:44px;border-radius:8px;border:2px solid rgba(162,255,159,0.65);box-shadow:0 0 16px rgba(162,255,159,0.35)}
    .corner.tl{top:14px;left:14px;border-right:none;border-bottom:none}
    .corner.tr{top:14px;right:14px;border-left:none;border-bottom:none}
    .corner.bl{bottom:14px;left:14px;border-right:none;border-top:none}
    .corner.br{bottom:14px;right:14px;border-left:none;border-top:none}

    .foot {position: fixed; bottom: 12px; left: 50%; transform: translateX(-50%); color: #c9c9c9; font-size: 12px; letter-spacing: 0.12em; text-transform: uppercase; opacity: 0.8; z-index: 3; padding: 4px 8px;}
    .foot strong { color: var(--platinum); }

    @keyframes breathe { 0%,100%{ transform: translateY(0)} 50%{ transform: translateY(-2px)} }

    /* Small devices tweaks */
    @media (max-width: 480px) {
      .frame { border-radius: 18px; }
      .corner { width: 34px; height: 34px; }
      .foot { font-size: 11px; bottom: 8px; }
    }
  </style>
</head>
<body class="noise vignette">
  <header class="topbar">
    <div class="badge">Escape Room // Riddle</div>
  </header>

  <main class="stage" id="stage">
    <figure class="frame" id="frame" aria-label="Riddle image">
      <!-- Replace src with your riddle image path -->
      <img src="../images/1.png" alt="Riddle" id="riddleImage" />
      <span class="corner tl"></span>
      <span class="corner tr"></span>
      <span class="corner bl"></span>
      <span class="corner br"></span>
    </figure>
  </main>

  <div class="foot">Press <strong>F</strong> to toggle full screen Â· Press <strong>L</strong> to dim lights</div>

  <script>
    // Keep the frame centered with subtle tilt and utilities
    const frame = document.getElementById('frame');
    const stage = document.getElementById('stage');
    let dimmed = false;

    stage.addEventListener('pointermove', (e) => {
      const rect = stage.getBoundingClientRect();
      const px = (e.clientX - rect.left) / rect.width - 0.5; // -0.5..0.5
      const py = (e.clientY - rect.top) / rect.height - 0.5;
      const rotX = py * -3;
      const rotY = px * 4;
      frame.style.transform = `translateZ(0) rotateX(${rotX}deg) rotateY(${rotY}deg)`;
    });

    stage.addEventListener('pointerleave', () => {
      frame.style.transform = '';
    });

    document.addEventListener('keydown', async (e) => {
      if (e.key.toLowerCase() === 'f') {
        const el = document.documentElement;
        if (!document.fullscreenElement) { try { await el.requestFullscreen(); } catch {} }
        else { try { await document.exitFullscreen(); } catch {} }
      }
      if (e.key.toLowerCase() === 'l') {
        dimmed = !dimmed;
        document.body.style.background = dimmed
          ? 'linear-gradient(180deg, #0a0c10 0%, #0a0c10 100%)'
          : '';
      }
    });
  </script>
</body>
</html>
